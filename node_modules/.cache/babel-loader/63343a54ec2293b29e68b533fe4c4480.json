{"ast":null,"code":"import React,{useEffect,useRef}from'react';import Box from'@mui/material/Box';import Drawer from'@mui/material/Drawer';import{useSelector,useDispatch}from'react-redux';import{mapSlice}from'../../redux/mapSlice';import{width}from'@mui/system';import ResultCard from'./resultCard';import{createMarker,deleteMarkers,deleteCircles,createCircle}from'../logics/map';import{getMapObject}from'../logics/map';import{getUserLocation}from'../parts/gMap';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ResultDrawer(props){var searchResults=props.results.results;var searchStatus=props.results.status;var lat=props.results.lat;var lng=props.results.lng;var userCircle;var resultsListToggle=useSelector(function(state){return state.mapSlice.resultsListToggle;});var drawerRef=useRef();console.log(searchResults);console.log(searchStatus);var scr=function scr(amount){drawerRef.current.children[0].scrollTop=amount;};return/*#__PURE__*/_jsx(Drawer,{anchor:\"left\",open:resultsListToggle,variant:\"persistent\",ref:drawerRef,PaperProps:{sx:{marginTop:8,width:400,height:'calc(100vh - 62px)'}},children:/*#__PURE__*/_jsx(Box,{children:function(){var d=[];deleteMarkers();deleteCircles();if(searchStatus=='INITIALIZED'){d.push(/*#__PURE__*/_jsx(ResultCard,{name:\"\\u691C\\u7D22\\u3057\\u3066\\u307F\\u307E\\u3057\\u3087\\u3046\",vicinity:\"\\uD83D\\uDE00\",mode:\"noresults\"}));return d;}createCircle(lat,lng,1000);if(searchStatus=='NO_RESULTS'){d.push(/*#__PURE__*/_jsx(ResultCard,{name:\"\\u4F55\\u3082\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\",vicinity:\"\\uD83E\\uDD7A\",mode:\"noresults\"}));return d;}for(var i=0;i<searchResults.length;i++){var r=searchResults[i];createMarker(r.lat,r.lng,i,scr,r.name);d.push(/*#__PURE__*/_jsx(ResultCard,{name:r.name,vicinity:r.vicinity,rating:r.rating,reviews:r.reviews,mode:\"data\",eatfree:r.eatfree,drinkfree:r.drinkfree,parking:r.parking,card:r.card,rat:r.rat,privateroom:r.privateroom,google:r.google,hotpepper:r.hotpepper,lat:r.lat,lng:r.lng,photo:r.photo,onClickFunc:function onClickFunc(lat,lng){var loc={lat:lat,lng:lng};var map=getMapObject();map.panTo(loc);map.setZoom(18);}},i));}return d;}()})});}/*\n   \n            \n*/","map":{"version":3,"names":["React","useEffect","useRef","Box","Drawer","useSelector","useDispatch","mapSlice","width","ResultCard","createMarker","deleteMarkers","deleteCircles","createCircle","getMapObject","getUserLocation","ResultDrawer","props","searchResults","results","searchStatus","status","lat","lng","userCircle","resultsListToggle","state","drawerRef","console","log","scr","amount","current","children","scrollTop","sx","marginTop","height","d","push","i","length","r","name","vicinity","rating","reviews","eatfree","drinkfree","parking","card","rat","privateroom","google","hotpepper","photo","loc","map","panTo","setZoom"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/templates/resultDrawer.jsx"],"sourcesContent":["import React, { useEffect , useRef} from 'react';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { mapSlice } from '../../redux/mapSlice';\nimport { width } from '@mui/system';\nimport ResultCard from './resultCard';\nimport { createMarker, deleteMarkers, deleteCircles,createCircle } from '../logics/map';\nimport { getMapObject } from '../logics/map';\nimport { getUserLocation } from '../parts/gMap';\n\nexport default function ResultDrawer(props) {\n\n    let searchResults = props.results.results;\n    let searchStatus = props.results.status;\n    let lat = props.results.lat;\n    let lng = props.results.lng;\n    let userCircle;\n    let resultsListToggle = useSelector(state => state.mapSlice.resultsListToggle);\n    const drawerRef = useRef();\n　　 console.log(searchResults);\n    console.log(searchStatus);\n\n\n    const scr = (amount) => {\n        drawerRef.current.children[0].scrollTop = amount;\n    }\n\n    return (\n\n        <Drawer\n            anchor='left'\n            open={resultsListToggle}\n            variant=\"persistent\"\n            ref={drawerRef}\n            PaperProps={{\n                sx: {\n                    marginTop: 8,\n                    width: 400,\n                    height: 'calc(100vh - 62px)'\n                }\n            }}\n        >\n\n            <Box>\n                {(() => {\n                    const d = [];\n                    deleteMarkers();\n                    deleteCircles();\n                    \n                    if(searchStatus == 'INITIALIZED'){\n\n                        d.push(<ResultCard name='検索してみましょう' vicinity='😀' mode='noresults'></ResultCard>);\n                        return d;\n\n                    }\n\n                    createCircle(lat,lng,1000);\n                    if(searchStatus == 'NO_RESULTS'){\n\n                        d.push(<ResultCard name='何も見つかりませんでした。' vicinity='🥺' mode='noresults'></ResultCard>);\n                        return d;\n                    }\n\n                    \n                    for (let i = 0; i < searchResults.length; i++) {\n                        \n                        let r = searchResults[i];\n\n                        createMarker(r.lat,r.lng,i,scr,r.name);\n\n                        d.push(<ResultCard \n                            key={i}\n                            name={r.name} \n                            vicinity={r.vicinity} \n                            rating={r.rating} \n                            reviews={r.reviews}\n                            mode='data'\n                            eatfree={r.eatfree}\n                            drinkfree={r.drinkfree}\n                            parking={r.parking}\n                            card={r.card}\n                            rat={r.rat}\n                            privateroom={r.privateroom}\n                            google={r.google}\n                            hotpepper={r.hotpepper}\n                            lat={r.lat}\n                            lng={r.lng}\n                            photo={r.photo}\n                            onClickFunc={(lat,lng) => \n                                {let loc = {\n                                    lat: lat,\n                                    lng: lng\n                                };\n                                let map = getMapObject();\n                                map.panTo(loc);\n                                map.setZoom(18);}}\n                            ></ResultCard>);\n                        \n                    }\n                    return d;\n                })()}\n\n            </Box>\n        </Drawer>\n\n    )\n\n\n}\n\n\n\n/*\n   \n            \n*/\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}