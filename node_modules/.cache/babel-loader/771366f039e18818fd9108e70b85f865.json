{"ast":null,"code":"var cid = 1;\n\nfunction buildParams(params) {\n  var result = [];\n\n  for (var i in params) {\n    result.push(encodeURIComponent(i) + '=' + encodeURIComponent(params[i]));\n  }\n\n  return result.join('&');\n}\n\nmodule.exports = function jsonpAdapter(config) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    var src = config.url;\n\n    if (config.params) {\n      var params = buildParams(config.params);\n\n      if (params) {\n        src += (src.indexOf('?') >= 0 ? '&' : '?') + params;\n      }\n    }\n\n    script.async = true;\n\n    function remove() {\n      if (script) {\n        script.onload = script.onreadystatechange = script.onerror = null;\n\n        if (script.parentNode) {\n          script.parentNode.removeChild(script);\n        }\n\n        script = null;\n      }\n    }\n\n    var jsonp = 'axiosJsonpCallback' + cid++;\n    var old = window[jsonp];\n    var isAbort = false;\n\n    window[jsonp] = function (responseData) {\n      window[jsonp] = old;\n\n      if (isAbort) {\n        return;\n      }\n\n      var response = {\n        data: responseData,\n        status: 200\n      };\n      resolve(response);\n    };\n\n    var additionalParams = {\n      _: new Date().getTime()\n    };\n    additionalParams[config.callbackParamName || 'callback'] = jsonp;\n    src += (src.indexOf('?') >= 0 ? '&' : '?') + buildParams(additionalParams);\n\n    script.onload = script.onreadystatechange = function () {\n      if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n        remove();\n      }\n    };\n\n    script.onerror = function () {\n      remove();\n      reject(new Error('Network Error'));\n    };\n\n    if (config.cancelToken) {\n      config.cancelToken.promise.then(function (cancel) {\n        if (!script) {\n          return;\n        }\n\n        isAbort = true;\n        reject(cancel);\n      });\n    }\n\n    script.src = src;\n    document.head.appendChild(script);\n  });\n};","map":{"version":3,"names":["cid","buildParams","params","result","i","push","encodeURIComponent","join","module","exports","jsonpAdapter","config","Promise","resolve","reject","script","document","createElement","src","url","indexOf","async","remove","onload","onreadystatechange","onerror","parentNode","removeChild","jsonp","old","window","isAbort","responseData","response","data","status","additionalParams","_","Date","getTime","callbackParamName","readyState","test","Error","cancelToken","promise","then","cancel","head","appendChild"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/node_modules/axios-jsonp/lib/index.js"],"sourcesContent":["var cid = 1;\n\nfunction buildParams(params) {\n    var result = [];\n\n    for (var i in params) {\n        result.push(encodeURIComponent(i) + '=' + encodeURIComponent(params[i]));\n    }\n\n    return result.join('&');\n}\n\nmodule.exports = function jsonpAdapter(config) {\n    return new Promise(function(resolve, reject) {\n        var script = document.createElement('script');\n        var src = config.url;\n\n        if (config.params) {\n            var params = buildParams(config.params);\n\n            if (params) {\n                src += (src.indexOf('?') >= 0 ? '&' : '?') + params;\n            }\n        }\n\n        script.async = true;\n\n        function remove() {\n            if (script) {\n                script.onload = script.onreadystatechange = script.onerror = null;\n\n                if (script.parentNode) {\n                    script.parentNode.removeChild(script);\n                }\n\n                script = null;\n            }\n        }\n\n        var jsonp = 'axiosJsonpCallback' + cid++;\n        var old = window[jsonp];\n        var isAbort = false;\n\n        window[jsonp] = function(responseData) {\n            window[jsonp] = old;\n\n            if (isAbort) {\n                return;\n            }\n            \n            var response = {\n                data: responseData,\n                status: 200\n            }\n\n            resolve(response);\n        };\n\n        var additionalParams = {\n            _: (new Date().getTime())\n        };\n        \n        additionalParams[config.callbackParamName || 'callback'] = jsonp;\n\n        src += (src.indexOf('?') >= 0 ? '&' : '?') + buildParams(additionalParams);\n\n        script.onload = script.onreadystatechange = function() {\n            if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n                remove();\n            }\n        };\n\n        script.onerror = function() {\n            remove();\n\n            reject(new Error('Network Error'));\n        };\n\n        if (config.cancelToken) {\n            config.cancelToken.promise.then(function(cancel) {\n                if (!script) {\n                    return;\n                }\n\n                isAbort = true;\n\n                reject(cancel);\n            });\n        }        \n\n        script.src = src;\n\n        document.head.appendChild(script);\n    });\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}