{"ast":null,"code":"let map, service;\nlet defaultUserLoc = {\n  lat: 35.41221,\n  lng: 139.4130\n};\nexport function initMap(element, userLoc) {\n  console.log(\"Map Initialized\"); //create an actual gmap \n\n  let map = new window.google.maps.Map(element, {\n    center: userLoc,\n    zoom: 15\n  }); //draw user and user radius\n\n  let userpos = new window.google.maps.Circle({\n    center: userLoc,\n    fillColor: '#0000ff',\n    fillOpacity: 0.45,\n    map: map,\n    radius: 20,\n    strokeColor: '#0000ff',\n    strokeOpacity: 1,\n    strokeWeight: 1\n  });\n  return map;\n}\nexport function initService(map) {\n  let service = new window.google.maps.places.PlacesService(map);\n  return service;\n}\nexport function createMapInstance() {\n  map = initMap(document.getElementById('map'), defaultUserLoc);\n  service = initService(map);\n  return map;\n}\nexport function doGoogleMapSearchPromise(request, service) {\n  return new Promise((resolve, reject) => {\n    service.nearbySearch(request, (results, status) => {\n      if (status === 'OK') {\n        resolve(results);\n      } else {\n        reject(status);\n      }\n    });\n  });\n}\nexport function createMarker(lat, lng, map) {\n  let marker = new window.google.maps.Marker({\n    map: map,\n    position: {\n      lat: lat,\n      lng: lng\n    }\n  });\n}\nexport function createCircle(lat, lng, map, radius) {\n  let circle = new window.google.maps.Circle({\n    center: {\n      lat: lat,\n      lng: lng\n    },\n    fillColor: '#0000ff',\n    fillOpacity: 0.45,\n    map: map,\n    radius: radius,\n    strokeColor: '#0000ff',\n    strokeOpacity: 1,\n    strokeWeight: 1\n  });\n  return circle;\n}\n\nfunction getGooglePhotoPromise(ref) {\n  let url = `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${ref}&key=YOUR_API_KEY`;\n}\n\nexport const getUserLocationPromise = new Promise((resolve, reject) => {\n  navigator.geolocation.getCurrentPosition(resolve, reject);\n});\nexport const getMapObject = () => {\n  return map;\n};\nexport const getCenter = () => {\n  let latlng = map.getCenter();\n  return latlng;\n};\nexport const getServiceObject = () => {\n  return service;\n};","map":{"version":3,"names":["map","service","defaultUserLoc","lat","lng","initMap","element","userLoc","console","log","window","google","maps","Map","center","zoom","userpos","Circle","fillColor","fillOpacity","radius","strokeColor","strokeOpacity","strokeWeight","initService","places","PlacesService","createMapInstance","document","getElementById","doGoogleMapSearchPromise","request","Promise","resolve","reject","nearbySearch","results","status","createMarker","marker","Marker","position","createCircle","circle","getGooglePhotoPromise","ref","url","getUserLocationPromise","navigator","geolocation","getCurrentPosition","getMapObject","getCenter","latlng","getServiceObject"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/logics/map.js"],"sourcesContent":["let map,service;\n\nlet defaultUserLoc = {\n    lat: 35.41221,\n    lng: 139.4130\n};\n\nexport function initMap(element, userLoc) {\n    console.log(\"Map Initialized\");\n    //create an actual gmap \n    let map = new window.google.maps.Map(element, {\n        center: userLoc,\n        zoom: 15\n    });\n    //draw user and user radius\n    let userpos = new window.google.maps.Circle({\n        center: userLoc,\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: 20,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n\n    return map;\n\n}\n\nexport function initService(map) {\n\n    let service = new window.google.maps.places.PlacesService(map);\n    return service;\n}\n\nexport function createMapInstance(){\n\n    map = initMap(document.getElementById('map'), defaultUserLoc);\n    service = initService(map);\n    return map;\n}\n\nexport function doGoogleMapSearchPromise(request, service) {\n\n    return new Promise((resolve, reject) => {\n        service.nearbySearch(request, (results, status) => {\n            if (status === 'OK') {\n                resolve(results);\n            } else {\n                reject(status);\n            }\n        });\n    });\n\n}\nexport function createMarker(lat, lng, map) {\n\n    let marker = new window.google.maps.Marker({\n        map: map,\n        position: { lat: lat, lng: lng },\n        \n    });\n\n}\n\nexport function createCircle(lat, lng, map , radius) {\n\n    let circle = new window.google.maps.Circle({\n        center: { lat: lat, lng: lng },\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: radius,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n    return circle;\n}\n\n\n\nfunction getGooglePhotoPromise(ref) {\n    let url = `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${ref}&key=YOUR_API_KEY`;\n\n}\n\nexport const getUserLocationPromise = new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject)\n})\n\nexport const getMapObject = () => {\n\n    return map;\n\n}\n\nexport const getCenter = () => {\n    let latlng = map.getCenter();\n\n    return latlng;\n}\n\n\nexport const getServiceObject = () => {\n\n    return service;\n\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}