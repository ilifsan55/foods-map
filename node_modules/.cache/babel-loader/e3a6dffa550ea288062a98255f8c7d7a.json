{"ast":null,"code":"import React from'react';import{useSelector,useDispatch}from'react-redux';import AppSlice,{appSlice}from'../../redux/appSlice';import mapSlice from'../../redux/mapSlice';import wheelSlice from'../../redux/wheelSlice';import{searchSlice}from'../../redux/searchSlice';import InputBase from'@mui/material/InputBase';import SearchIcon from'@mui/icons-material/Search';import{styled,alpha}from'@mui/material/styles';import AppBar from'@mui/material/AppBar';import Button from'@mui/material/Button';import Box from'@mui/material/Box';import Toolbar from'@mui/material/Toolbar';import IconButton from'@mui/material/IconButton';import MenuIcon from'@mui/icons-material/Menu';import Checkbox from'@mui/material/Checkbox';import FavoriteBorder from'@mui/icons-material/FavoriteBorder';import Favorite from'@mui/icons-material/Favorite';import MyLocationIcon from'@mui/icons-material/MyLocation';import SearchBox from'../parts/searchBox';import Grid from'@mui/material/Grid';import ResultDrawer from'./resultDrawer';import Wheel from'../parts/wheel';import{GoogleIcon}from'../parts/googleIcon';import{trySearch}from'../logics/search';import{HotPepperIcon}from'../parts/hotPepperIcon';import{getServiceObject,getUserLocation,getCenter}from'../parts/gMap';import{createGoogleRequest,combineResults,doGoogleMapSearchPromise,perseGoogleResults,perseHotPepperResults,createHotPepperRequest}from'../logics/map';import axios from'axios';import jsonp from'axios-jsonp';import{useTheme}from'@mui/material/styles';import{auto}from'@popperjs/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var userLocation={lat:35.41221,lng:139.4130};var searchResults;var PartyButton=styled(Button)(function(_ref){var theme=_ref.theme;return{fontSize:'1.8rem',padding:theme.spacing(0,0,0,0),textAlign:'right'};});var SearchResultsElementMemo=/*#__PURE__*/React.memo(function(props){return/*#__PURE__*/_jsx(ResultDrawer,{results:props.results});});var WheelElementMemo=/*#__PURE__*/React.memo(function(props){return/*#__PURE__*/_jsx(Wheel,{trySearchFunc:props.trySearchFunc});});export default function AppBarTemplate(){var inputValue=useSelector(function(state){return state.app.inputValue;});var searchResults=useSelector(function(state){return state.mapSlice.searchResults;});var useGoogle=useSelector(function(state){return state.searchSlice.useGoogle;});var useHotPepper=useSelector(function(state){return state.searchSlice.useHotPepper;});var dispatch=useDispatch();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{zIndex:function zIndex(theme){return theme.zIndex.drawer+100;}},children:/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,display:\"flex\",justify:\"space-between\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:1,md:1,children:/*#__PURE__*/_jsx(IconButton,{size:\"large\"//edge=\"start\"\n,color:\"inherit\",\"aria-label\":\"menu\",onClick:function onClick(){dispatch(mapSlice.actions.setResultsListToggle());},children:/*#__PURE__*/_jsx(MenuIcon,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:5,md:5,children:/*#__PURE__*/_jsx(SearchBox,{example:\"\\u4F8B\\uFF1A\",requestUserLocMethod:function requestUserLocMethod(bool){dispatch(mapSlice.actions.requestUserLoc(bool));},searchMethod:function searchMethod(){trySearch(inputValue,useGoogle,useHotPepper).then(function(received){return dispatch(mapSlice.actions.setSearchResults(received));});}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:0,md:1}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,md:2,children:[/*#__PURE__*/_jsx(Checkbox,{value:useGoogle,onChange:function onChange(){return dispatch(searchSlice.actions.useGoogleToggle());},icon:/*#__PURE__*/_jsx(GoogleIcon,{size:2,checked:false}),checkedIcon:/*#__PURE__*/_jsx(GoogleIcon,{size:2,checked:true})}),/*#__PURE__*/_jsx(Checkbox,{sx:{ml:3},value:useHotPepper,onChange:function onChange(){return dispatch(searchSlice.actions.useHotPepperToggle());},icon:/*#__PURE__*/_jsx(HotPepperIcon,{size:2,checked:false}),checkedIcon:/*#__PURE__*/_jsx(HotPepperIcon,{size:2,checked:true})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:0,md:1}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,md:1,children:/*#__PURE__*/_jsx(PartyButton,{onClick:function onClick(){dispatch(appSlice.actions.toggleWheel());},color:\"warning\",variant:\"contained\",children:\"\\uD83C\\uDFAF\"})})]})})})}),/*#__PURE__*/_jsx(SearchResultsElementMemo,{results:searchResults}),/*#__PURE__*/_jsx(WheelElementMemo,{trySearchFunc:function trySearchFunc(){trySearch(inputValue,useGoogle,useHotPepper).then(function(received){return dispatch(mapSlice.actions.setSearchResults(received));});}})]});}","map":{"version":3,"names":["React","useSelector","useDispatch","AppSlice","appSlice","mapSlice","wheelSlice","searchSlice","InputBase","SearchIcon","styled","alpha","AppBar","Button","Box","Toolbar","IconButton","MenuIcon","Checkbox","FavoriteBorder","Favorite","MyLocationIcon","SearchBox","Grid","ResultDrawer","Wheel","GoogleIcon","trySearch","HotPepperIcon","getServiceObject","getUserLocation","getCenter","createGoogleRequest","combineResults","doGoogleMapSearchPromise","perseGoogleResults","perseHotPepperResults","createHotPepperRequest","axios","jsonp","useTheme","auto","userLocation","lat","lng","searchResults","PartyButton","theme","fontSize","padding","spacing","textAlign","SearchResultsElementMemo","memo","props","results","WheelElementMemo","trySearchFunc","AppBarTemplate","inputValue","state","app","useGoogle","useHotPepper","dispatch","flexGrow","zIndex","drawer","actions","setResultsListToggle","bool","requestUserLoc","then","received","setSearchResults","useGoogleToggle","ml","useHotPepperToggle","toggleWheel"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/templates/appBar.jsx"],"sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport AppSlice, { appSlice } from '../../redux/appSlice';\nimport mapSlice from '../../redux/mapSlice';\nimport wheelSlice from '../../redux/wheelSlice';\nimport { searchSlice } from '../../redux/searchSlice';\n\nimport InputBase from '@mui/material/InputBase';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { styled, alpha } from '@mui/material/styles';\nimport AppBar from '@mui/material/AppBar';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Checkbox from '@mui/material/Checkbox';\nimport FavoriteBorder from '@mui/icons-material/FavoriteBorder';\nimport Favorite from '@mui/icons-material/Favorite';\nimport MyLocationIcon from '@mui/icons-material/MyLocation';\nimport SearchBox from '../parts/searchBox';\n\nimport Grid from '@mui/material/Grid';\nimport ResultDrawer from './resultDrawer'\nimport Wheel from '../parts/wheel'\nimport { GoogleIcon } from '../parts/googleIcon'\nimport { trySearch } from '../logics/search';\nimport { HotPepperIcon } from '../parts/hotPepperIcon'\n\nimport { getServiceObject, getUserLocation, getCenter } from '../parts/gMap';\nimport { createGoogleRequest, combineResults, doGoogleMapSearchPromise, perseGoogleResults, perseHotPepperResults, createHotPepperRequest } from '../logics/map';\n\nimport axios from 'axios'\nimport jsonp from 'axios-jsonp'\nimport { useTheme } from '@mui/material/styles';\nimport { auto } from '@popperjs/core';\n\n\n\nlet userLocation = {\n  lat: 35.41221,\n  lng: 139.4130\n};\n\nlet searchResults;\n\n\n\n\nconst PartyButton = styled(Button)(({ theme }) => ({\n\n  fontSize: '1.8rem',\n\n  padding: theme.spacing(0, 0, 0, 0),\n  textAlign: 'right',\n\n}))\n\nconst SearchResultsElementMemo = React.memo(props => {\n  return <ResultDrawer results={props.results}></ResultDrawer>;\n});\n\nconst WheelElementMemo = React.memo(props => {\n  return <Wheel trySearchFunc={props.trySearchFunc}></Wheel>;\n});\n\nexport default function AppBarTemplate() {\n\n  const inputValue = useSelector(state => state.app.inputValue);\n  const searchResults = useSelector(state => state.mapSlice.searchResults);\n  const useGoogle = useSelector(state => state.searchSlice.useGoogle);\n  const useHotPepper = useSelector(state => state.searchSlice.useHotPepper);\n  const dispatch = useDispatch();\n\n\n  \n  return (\n    <div>\n      <Box\n        sx={{ flexGrow: 1 }}>\n        <AppBar\n          position=\"static\"\n          sx={{ zIndex: (theme) => theme.zIndex.drawer + 100 }}\n        >\n          <Toolbar>\n            <Grid \n              container \n              spacing={1}\n              display=\"flex\"\n              justify=\"space-between\">\n            <Grid item xs={1} md={1}>\n              <IconButton\n                size=\"large\"\n                //edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"menu\"\n                onClick={() => { dispatch(mapSlice.actions.setResultsListToggle()); }}\n              >\n                <MenuIcon />\n              </IconButton>\n            </Grid>\n\n            <Grid item xs={5} md={5}>\n              <SearchBox\n                example=\"例：\"\n                requestUserLocMethod={(bool) => { dispatch(mapSlice.actions.requestUserLoc(bool)); }}\n                searchMethod={() => {\n                 \n                  trySearch(inputValue,useGoogle,useHotPepper)\n                  .then((received) => (dispatch(mapSlice.actions.setSearchResults(received))))}}></SearchBox>\n            </Grid>\n\n            <Grid item xs={0} md={1}>\n              \n            </Grid>\n\n            <Grid item xs={4} md={2}>\n              <Checkbox\n                value={useGoogle} onChange={() => (dispatch(searchSlice.actions.useGoogleToggle()))}\n                icon={<GoogleIcon size={2} checked={false} />}\n                checkedIcon={<GoogleIcon size={2} checked={true} />}\n              />\n              <Checkbox\n                sx={{ ml: 3 }}\n                value={useHotPepper} onChange={() => (dispatch(searchSlice.actions.useHotPepperToggle()))}\n                icon={<HotPepperIcon size={2} checked={false} />}\n                checkedIcon={<HotPepperIcon size={2} checked={true}\n                />}\n              />\n            </Grid>\n\n            <Grid item xs={0} md={1}>\n              \n            </Grid>\n\n\n            <Grid item xs={1} md={1}>\n              <PartyButton\n                onClick={() => { dispatch(appSlice.actions.toggleWheel()) }}\n                color=\"warning\"\n                variant=\"contained\">🎯</PartyButton>\n            </Grid>\n            </Grid>\n\n          </Toolbar>\n        </AppBar>\n      </Box>\n\n      <SearchResultsElementMemo results={searchResults}></SearchResultsElementMemo>\n      <WheelElementMemo trySearchFunc={() => {\n                  trySearch(inputValue,useGoogle,useHotPepper)\n                  .then((received) => (dispatch(mapSlice.actions.setSearchResults(received))))}}></WheelElementMemo>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}