{"ast":null,"code":"var map;var service;var markers=[];var circles=[];var defaultUserLoc={lat:35.6809591,lng:139.7673068};export function initMap(element,userLoc){console.log('Map Initialized');var map=new window.google.maps.Map(element,{center:userLoc,zoom:15});/*\n    let userpos = new window.google.maps.Circle({\n        center: userLoc,\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: 20,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n    */return map;}export function initService(map){var service=new window.google.maps.places.PlacesService(map);return service;}export function createMapInstance(){map=initMap(document.getElementById('map'),defaultUserLoc);service=initService(map);return map;}export function doGoogleMapSearchPromise(request,service){return new Promise(function(resolve,reject){service.nearbySearch(request,function(results,status){if(status==='OK'){resolve(results);}else{reject(status);}});});}export function createMarker(lat,lng,index,scrollFunc,openFunc,name){var pixelOffset=new window.google.maps.Size(0,-40);var marker=new window.google.maps.Marker({map:map,position:{lat:lat,lng:lng}// label: name\n});marker.addListener('mouseover',function(){var hover=new window.google.maps.InfoWindow({map:map,content:name,noSuppress:true,zIndex:20000,pixelOffset:pixelOffset});hover.setPosition({lat:lat,lng:lng});});marker.addListener('mouseout',function(){if(hover){hover.close();}});marker.addListener('click',function(){scrollFunc(index*316);spenFunc();});markers.push(marker);}export function deleteMarkers(){for(var i=0;i<markers.length;i++){markers[i].setMap(null);}markers=[];}export function deleteCircles(){for(var i=0;i<circles.length;i++){circles[i].setMap(null);}circles=[];}export function createCircle(lat,lng,radius){var circle=new window.google.maps.Circle({center:{lat:lat,lng:lng},fillColor:'#0000ff',fillOpacity:0.15,map:map,radius:radius,strokeColor:'#0000ff',strokeOpacity:1,strokeWeight:1});circles.push(circle);}export var getMapObject=function getMapObject(){return map;};export var getCenter=function getCenter(){var latlng=map.getCenter();return latlng;};export var getServiceObject=function getServiceObject(){return service;};","map":{"version":3,"names":["map","service","markers","circles","defaultUserLoc","lat","lng","initMap","element","userLoc","console","log","window","google","maps","Map","center","zoom","initService","places","PlacesService","createMapInstance","document","getElementById","doGoogleMapSearchPromise","request","Promise","resolve","reject","nearbySearch","results","status","createMarker","index","scrollFunc","openFunc","name","pixelOffset","Size","marker","Marker","position","addListener","hover","InfoWindow","content","noSuppress","zIndex","setPosition","close","spenFunc","push","deleteMarkers","i","length","setMap","deleteCircles","createCircle","radius","circle","Circle","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","getMapObject","getCenter","latlng","getServiceObject"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/logics/map.js"],"sourcesContent":["let map;\nlet service;\nlet markers = [];\nlet circles = [];\nconst defaultUserLoc = {\n    lat: 35.6809591,\n    lng: 139.7673068,\n};\nexport function initMap(element, userLoc) {\n    console.log('Map Initialized');\n    const map = new window.google.maps.Map(element, {\n        center: userLoc,\n        zoom: 15,\n    });\n    /*\n    let userpos = new window.google.maps.Circle({\n        center: userLoc,\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: 20,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n    */\n    return map;\n}\nexport function initService(map) {\n    const service = new window.google.maps.places.PlacesService(map);\n    return service;\n}\nexport function createMapInstance() {\n    map = initMap(document.getElementById('map'), defaultUserLoc);\n    service = initService(map);\n    return map;\n}\nexport function doGoogleMapSearchPromise(request, service) {\n    return new Promise((resolve, reject) => {\n        service.nearbySearch(request, (results, status) => {\n            if (status === 'OK') {\n                resolve(results);\n            } else {\n                reject(status);\n            }\n        });\n    });\n}\nexport function createMarker(lat, lng, index, scrollFunc, openFunc, name) {\n    const pixelOffset = new window.google.maps.Size(0, -40);\n    const marker = new window.google.maps.Marker({\n        map: map,\n        position: {lat: lat, lng: lng},\n        // label: name\n    });\n    marker.addListener('mouseover', () => {\n    const hover = new window.google.maps.InfoWindow({\n            map: map,\n            content: name,\n            noSuppress: true,\n            zIndex: 20000,\n           pixelOffset: pixelOffset,\n        });\n        hover.setPosition({lat: lat, lng: lng});\n    });\n\n    marker.addListener('mouseout', ()=> {\n        if (hover) {\n            hover.close();\n        }\n    });\n\n    marker.addListener( 'click', ()=> {\n        scrollFunc(index*316);\n        spenFunc();\n    });\n    markers.push(marker);\n}\nexport function deleteMarkers() {\n    for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n    }\n    markers = [];\n}\nexport function deleteCircles() {\n    for (let i = 0; i < circles.length; i++) {\n        circles[i].setMap(null);\n    }\n    circles = [];\n}\nexport function createCircle(lat, lng, radius) {\n    const circle = new window.google.maps.Circle({\n        center: {lat: lat, lng: lng},\n        fillColor: '#0000ff',\n        fillOpacity: 0.15,\n        map: map,\n        radius: radius,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1,\n    });\n    circles.push(circle);\n}\nexport const getMapObject = ()=> {\n    return map;\n};\nexport const getCenter = ()=> {\n    const latlng = map.getCenter();\n    return latlng;\n};\nexport const getServiceObject = () => {\n    return service;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}