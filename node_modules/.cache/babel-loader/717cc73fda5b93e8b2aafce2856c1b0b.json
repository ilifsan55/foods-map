{"ast":null,"code":"var map,service;var markers=[];var circles=[];var defaultUserLoc={lat:35.6809591,lng:139.7673068};export function initMap(element,userLoc){console.log(\"Map Initialized\");//create an actual gmap \nvar map=new window.google.maps.Map(element,{center:userLoc,zoom:15});/*\n    let userpos = new window.google.maps.Circle({\n        center: userLoc,\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: 20,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n    */return map;}export function initService(map){var service=new window.google.maps.places.PlacesService(map);return service;}export function createMapInstance(){map=initMap(document.getElementById('map'),defaultUserLoc);service=initService(map);return map;}export function doGoogleMapSearchPromise(request,service){return new Promise(function(resolve,reject){service.nearbySearch(request,function(results,status){if(status==='OK'){resolve(results);}else{reject(status);}});});}export function createMarker(lat,lng,index,Func,name){var marker=new window.google.maps.Marker({map:map,position:{lat:lat,lng:lng}//label: name\n});marker.addListener(\"click\",function(){Func(index*399);});markers.push(marker);}export function deleteMarkers(){for(var i=0;i<markers.length;i++){markers[i].setMap(null);}markers=[];}export function deleteCircles(){for(var i=0;i<circles.length;i++){circles[i].setMap(null);}circles=[];}export function createCircle(lat,lng,radius){var circle=new window.google.maps.Circle({center:{lat:lat,lng:lng},fillColor:'#0000ff',fillOpacity:0.15,map:map,radius:radius,strokeColor:'#0000ff',strokeOpacity:1,strokeWeight:1});circles.push(circle);}function getGooglePhotoPromise(ref){var url=\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=\".concat(ref,\"&key=YOUR_API_KEY\");}export var getMapObject=function getMapObject(){return map;};export var getCenter=function getCenter(){var latlng=map.getCenter();return latlng;};export var getServiceObject=function getServiceObject(){return service;};","map":{"version":3,"names":["map","service","markers","circles","defaultUserLoc","lat","lng","initMap","element","userLoc","console","log","window","google","maps","Map","center","zoom","initService","places","PlacesService","createMapInstance","document","getElementById","doGoogleMapSearchPromise","request","Promise","resolve","reject","nearbySearch","results","status","createMarker","index","Func","name","marker","Marker","position","addListener","push","deleteMarkers","i","length","setMap","deleteCircles","createCircle","radius","circle","Circle","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","getGooglePhotoPromise","ref","url","getMapObject","getCenter","latlng","getServiceObject"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/logics/map.js"],"sourcesContent":["let map,service;\nlet markers = [];\nlet circles = [];\n\nlet defaultUserLoc = {   \n    lat: 35.6809591,\n    lng: 139.7673068\n};\n\nexport function initMap(element, userLoc) {\n    console.log(\"Map Initialized\");\n    //create an actual gmap \n    let map = new window.google.maps.Map(element, {\n        center: userLoc,\n        zoom: 15\n    });\n\n    /*\n    let userpos = new window.google.maps.Circle({\n        center: userLoc,\n        fillColor: '#0000ff',\n        fillOpacity: 0.45,\n        map: map,\n        radius: 20,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n    */\n\n    return map;\n\n}\n\nexport function initService(map) {\n\n    let service = new window.google.maps.places.PlacesService(map);\n    return service;\n}\n\nexport function createMapInstance(){\n\n    map = initMap(document.getElementById('map'), defaultUserLoc);\n    service = initService(map);\n    return map;\n}\n\nexport function doGoogleMapSearchPromise(request, service) {\n\n    return new Promise((resolve, reject) => {\n        service.nearbySearch(request, (results, status) => {\n            if (status === 'OK') {\n                resolve(results);\n            } else {\n                reject(status);\n            }\n        });\n    });\n\n}\nexport function createMarker(lat, lng, index, Func, name) {\n\n    let marker = new window.google.maps.Marker({\n        map: map,\n        position: { lat: lat, lng: lng },\n        //label: name\n        \n    });\n    marker.addListener( \"click\", () =>  {\n        Func(index*399);\n    }  );\n    markers.push(marker);\n\n}\n\nexport function deleteMarkers () {\n\n    for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n    }\n    markers = [];\n}\n\nexport function deleteCircles () {\n\n    for (let i = 0; i < circles.length; i++) {\n        circles[i].setMap(null);\n    }\n    circles = [];\n}\n\nexport function createCircle(lat, lng,radius) {\n\n    let circle = new window.google.maps.Circle({\n        center: { lat: lat, lng: lng },\n        fillColor: '#0000ff',\n        fillOpacity: 0.15,\n        map: map,\n        radius: radius,\n        strokeColor: '#0000ff',\n        strokeOpacity: 1,\n        strokeWeight: 1\n    });\n\n    circles.push(circle);\n}\n\n\n\nfunction getGooglePhotoPromise(ref) {\n    let url = `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${ref}&key=YOUR_API_KEY`;\n\n}\n\n\n\nexport const getMapObject = () => {\n\n    return map;\n\n}\n\nexport const getCenter = () => {\n    let latlng = map.getCenter();\n\n    return latlng;\n}\n\n\nexport const getServiceObject = () => {\n\n    return service;\n\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}