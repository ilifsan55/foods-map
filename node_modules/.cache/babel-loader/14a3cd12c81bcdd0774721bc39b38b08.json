{"ast":null,"code":"import React,{useRef}from'react';import Box from'@mui/material/Box';import Drawer from'@mui/material/Drawer';import{useSelector,useDispatch}from'react-redux';import{mapSlice}from'../../redux/mapSlice';import ResultCard from'./resultCard';import{createMarker,deleteMarkers,deleteCircles,createCircle}from'../logics/map';import{getMapObject}from'../logics/map';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ResultDrawer(props){var searchResults=props.results.results;var searchStatus=props.results.status;var lat=props.results.lat;var lng=props.results.lng;var dispatch=useDispatch();var resultsListToggle=useSelector(function(state){return state.mapSlice.resultsListToggle;});var drawerRef=useRef();var scrollFunc=function scrollFunc(amount){drawerRef.current.children[0].scrollTop=amount;};var openFunc=function openFunc(){if(!resultsListToggle){dispatch(mapSlice.actions.setResultsListToggle());}};return/*#__PURE__*/_jsx(Drawer,{anchor:\"left\",open:resultsListToggle,variant:\"persistent\",ref:drawerRef,PaperProps:{sx:{marginTop:8,width:400,height:'calc(100vh - 62px)'}},children:/*#__PURE__*/_jsx(Box,{children:function(){var d=[];deleteMarkers();deleteCircles();if(searchStatus==='INITIALIZED'){d.push(/*#__PURE__*/_jsx(ResultCard,{name:\"\\u691C\\u7D22\\u3057\\u3066\\u307F\\u307E\\u3057\\u3087\\u3046\",vicinity:\"\\uD83D\\uDE00\",mode:\"noresults\"},0));return d;}createCircle(lat,lng,1000);if(searchStatus==='NO_RESULTS'){d.push(/*#__PURE__*/_jsx(ResultCard,{name:\"\\u4F55\\u3082\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\",vicinity:\"\\uD83E\\uDD7A\",mode:\"noresults\"},0));return d;}for(var i=0;i<searchResults.length;i++){var r=searchResults[i];createMarker(r.lat,r.lng,i,scrollFunc,openFunc,r.name);d.push(/*#__PURE__*/_jsx(ResultCard,{name:r.name,vicinity:r.vicinity,rating:r.rating,reviews:r.reviews,mode:\"data\",eatfree:r.eatfree,drinkfree:r.drinkfree,parking:r.parking,card:r.card,rat:r.rat,privateroom:r.privateroom,google:r.google,hotpepper:r.hotpepper,lat:r.lat,lng:r.lng,photo:r.photo,onClickFunc:function onClickFunc(lat,lng){var loc={lat:lat,lng:lng};var map=getMapObject();map.panTo(loc);map.setZoom(18);}},i));}return d;}()})});}","map":{"version":3,"names":["React","useRef","Box","Drawer","useSelector","useDispatch","mapSlice","ResultCard","createMarker","deleteMarkers","deleteCircles","createCircle","getMapObject","ResultDrawer","props","searchResults","results","searchStatus","status","lat","lng","dispatch","resultsListToggle","state","drawerRef","scrollFunc","amount","current","children","scrollTop","openFunc","actions","setResultsListToggle","sx","marginTop","width","height","d","push","i","length","r","name","vicinity","rating","reviews","eatfree","drinkfree","parking","card","rat","privateroom","google","hotpepper","photo","loc","map","panTo","setZoom"],"sources":["/Users/kokiyamamoto/Desktop/projects/FoodsMap/src/components/templates/resultDrawer.jsx"],"sourcesContent":["import React, {useRef} from 'react';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {mapSlice} from '../../redux/mapSlice';\nimport ResultCard from './resultCard';\nimport {createMarker, deleteMarkers, deleteCircles, createCircle} from '../logics/map';\nimport {getMapObject} from '../logics/map';\nexport default function ResultDrawer(props) {\n    const searchResults = props.results.results;\n    const searchStatus = props.results.status;\n    const lat = props.results.lat;\n    const lng = props.results.lng;\n    const dispatch = useDispatch();\n    const resultsListToggle = useSelector((state) => state.mapSlice.resultsListToggle);\n    const drawerRef = useRef();\n    const scrollFunc = (amount) => {\n        drawerRef.current.children[0].scrollTop = amount;\n    };\n    const openFunc = () =>{\n        if (!resultsListToggle) {\n            dispatch(mapSlice.actions.setResultsListToggle());\n        }\n    };\n    return (\n        <Drawer\n            anchor='left'\n            open={resultsListToggle}\n            variant=\"persistent\"\n            ref={drawerRef}\n            PaperProps={{\n                sx: {\n                    marginTop: 8,\n                    width: 400,\n                    height: 'calc(100vh - 62px)',\n                },\n            }}\n        >\n            <Box>\n                {(() => {\n                    const d = [];\n                    deleteMarkers();\n                    deleteCircles();\n                    if (searchStatus === 'INITIALIZED') {\n                        d.push(<ResultCard name='検索してみましょう' key={0} vicinity='😀' mode='noresults'></ResultCard>);\n                        return d;\n                    }\n                    createCircle(lat, lng, 1000);\n                    if (searchStatus === 'NO_RESULTS') {\n                        d.push(<ResultCard name='何も見つかりませんでした。' key={0} vicinity='🥺' mode='noresults'></ResultCard>);\n                        return d;\n                    }\n                    for (let i = 0; i < searchResults.length; i++) {\n                        const r = searchResults[i];\n                        createMarker(r.lat, r.lng, i, scrollFunc, openFunc, r.name);\n                        d.push(<ResultCard\n                            key={i}\n                            name={r.name}\n                            vicinity={r.vicinity}\n                            rating={r.rating}\n                            reviews={r.reviews}\n                            mode='data'\n                            eatfree={r.eatfree}\n                            drinkfree={r.drinkfree}\n                            parking={r.parking}\n                            card={r.card}\n                            rat={r.rat}\n                            privateroom={r.privateroom}\n                            google={r.google}\n                            hotpepper={r.hotpepper}\n                            lat={r.lat}\n                            lng={r.lng}\n                            photo={r.photo}\n                            onClickFunc={(lat, lng) => {\n                                    const loc = {\n                                        lat: lat,\n                                        lng: lng,\n                                    };\n                                    const map = getMapObject();\n                                    map.panTo(loc);\n                                    map.setZoom(18);\n                                }}\n                            ></ResultCard>);\n                    }\n                    return d;\n                })()}\n            </Box>\n        </Drawer>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}